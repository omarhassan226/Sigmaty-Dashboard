/* eslint-disable react/no-unknown-property */
import React, { useState } from 'react';
import { Box, List, ListItem, ListItemIcon, ListItemText, Drawer, IconButton, useMediaQuery } from '@mui/material';
import MenuIcon from '@mui/icons-material/Menu';
import { Link } from 'react-router-dom';

const drawerWidth = 240;

const Sidebar = () => {
    const [selectedIndex, setSelectedIndex] = useState(0);
    const [mobileOpen, setMobileOpen] = useState(false);
    const isMobile = useMediaQuery('(max-width:600px)');

    const handleListItemClick = (index) => {
        setSelectedIndex(index);
    };

    const handleDrawerToggle = () => {
        setMobileOpen(!mobileOpen);
    };

    const drawerContent = (
        <List>
            {[
                { imgSrc: 'color outline.svg', text: 'لوحة التحكم', path: '/control-panel' },
                { imgSrc: 'teachers.svg', text: 'المعلمين', path: '/teachers' },
                { imgSrc: 'students.svg', text: 'الطلاب', path: '/students' },
                { imgSrc: 'packages.svg', text: 'الباقات', path: '/packages' },
                { imgSrc: 'parents.svg', text: 'أولياءالامور', path: '/parents' },
                { imgSrc: 'permissions.svg', text: 'الصلاحيات', path: '/permissions' },
                { imgSrc: 'notifications.svg', text: 'الاشعارات', path: '/notifications' },
            ].map((item, index) => (
                <Link key={index} to={item.path} style={{ textDecoration: 'none', color: 'inherit' }}>
                    <ListItem button selected={selectedIndex === index} onClick={() => handleListItemClick(index)}
                        sx={{
                            borderLeft: selectedIndex === index ? '4px solid #249EF1' : 'none',
                            color: selectedIndex === index ? '#249EF1' : '',
                            '&:hover': {
                                backgroundColor: '#b2ebf2',
                            },
                            textAlign: 'right'
                        }}>
                        <ListItemIcon>
                            <img src={item.imgSrc} alt={item.text} width="24" />
                        </ListItemIcon>
                        <ListItemText primary={item.text} sx={{ textAlign: 'right' }} />
                    </ListItem>
                </Link>
            ))}
        </List>
    );

    return (
        <Box>
            {isMobile && (
                <IconButton
                    color="inherit"
                    aria-label="open drawer"
                    edge="start"
                    onClick={handleDrawerToggle}
                    sx={{ marginLeft: '16px' }}
                >
                    <MenuIcon />
                </IconButton>
            )}

            <Drawer
                sx={{
                    width: drawerWidth,
                    flexShrink: 0,
                    '& .MuiDrawer-paper': {
                        width: drawerWidth,
                        boxSizing: 'border-box',
                    },
                }}
                variant={isMobile ? 'temporary' : 'permanent'}
                anchor="right"
                open={!isMobile || mobileOpen}
                onClose={handleDrawerToggle}
            >
                <div style={{ padding: '20px', display: 'flex', justifyContent: 'center', alignItems: 'center' }}>
                    {/* Your SVG Logo */}
                    <svg width="100" height="100" viewBox="0 0 64 64" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <g clipPath="url(#clip0_1137_206)">
                            <path d="M18.2928 10.0496H19.8974L21.7489 10.2964L23.2301 10.7284L24.6496 11.3456L25.7605 11.9628L26.8096 12.7034L27.6737 13.444L28.476 14.2463L29.2783 15.2955L29.9572 16.3446L30.7595 18.011L31.1298 19.1219L31.4384 20.4796L31.5618 21.714V23.3803L31.3767 24.8615L31.0681 26.2193L30.7595 27.0833L30.3275 28.0091L29.772 29.0582L29.0314 30.1074L28.5377 30.7246L27.6737 31.6503L27.1799 32.0823L26.8714 32.3909H32.8579L33.4133 32.6378L33.7836 33.0698L33.907 33.5018V33.9338L33.7219 34.4276L33.4133 34.7362L33.1047 34.9213L32.7961 34.983H18.3545L17.0584 34.8596L15.4538 34.4893L14.4663 34.119L13.4789 33.687L12.3063 33.0081L11.4422 32.3909L10.6399 31.712L9.59075 30.6629L8.665 29.4285L8.04784 28.3794L7.5541 27.3302L7.12209 26.0958L6.87522 25.1701L6.62836 23.7506V21.4671L6.81351 20.2945L7.06037 19.1836L7.49239 17.8876L8.23299 16.3446L9.09702 15.0486L9.7759 14.2463L10.4548 13.5057L11.0719 12.9502L12.0594 12.2096L13.2937 11.469L14.3429 10.9753L15.5772 10.5433L16.4413 10.2964L18.2928 10.0496ZM17.8608 12.6417L16.2561 13.012L15.0835 13.444L13.9109 14.0611L12.8617 14.8017L11.8743 15.7275L11.1954 16.5298L10.5782 17.4555L9.96105 18.6282L9.52903 19.9242L9.28217 21.0968L9.22045 22.146V22.8866L9.28217 23.9358L9.52903 25.1084L9.89933 26.2193L10.5165 27.5153L11.2571 28.5645L11.8125 29.2434L12.5531 29.984L13.3555 30.6011L14.2195 31.1566L15.2687 31.6503L15.8241 31.8972L16.935 32.2058L18.2311 32.3909H20.0208L21.502 32.1441L22.6746 31.7738L23.7855 31.28L24.7113 30.7246L25.5753 30.0457L26.8096 28.8114L27.5502 27.7622L28.1674 26.5896L28.6611 25.2935L28.9697 23.7506L29.0314 23.1335V21.9608L28.908 20.8499L28.6611 19.739L28.1674 18.443L27.4885 17.147L26.6245 16.0361L25.3902 14.8017L24.2793 14.0611L23.4152 13.5674L22.1809 13.0737L20.6997 12.7034L20.206 12.6417H17.8608Z" fill="black" />
                            <path d="M31.0681 10.0496H45.8801L47.5464 10.2964L49.0276 10.7284L50.2002 11.2222L51.3728 11.8393L52.3603 12.5182L53.3478 13.3205L54.2735 14.2463L54.8907 15.0486L55.3227 15.6658L55.9398 16.7149L56.4953 17.8876L56.9273 19.1836L57.1742 20.2945L57.3593 21.5288V23.5655L57.1742 24.7998L56.9273 25.849L56.557 26.9599L56.125 27.9473L55.5078 29.12L54.8289 30.1074L54.0266 31.0332L53.2243 31.8355L52.6072 32.3292L51.558 33.0698L50.2002 33.8104L48.9659 34.3041L47.3613 34.7362L46.2504 34.9213H43.72L42.3622 34.7362L41.0045 34.3659L39.7084 33.8721L38.5358 33.255L37.8569 32.8229L37.1163 32.2675L36.4374 31.712L35.6351 30.9097L34.9562 30.0457L34.5242 29.4285L34.0305 28.6262L33.5368 27.6388L33.1047 26.5896L32.7344 25.3552L32.5493 24.4295L32.4259 23.442V21.6523L32.6727 19.9859L33.1047 18.443L33.7219 16.9618L34.3391 15.8509L35.0797 14.8017L35.9437 13.876L36.3757 13.3823L37.0546 12.8268L37.178 12.6417H31.0681L30.5744 12.3948L30.2658 12.1479L30.0189 11.6542V11.037L30.2658 10.5433L30.6978 10.173L31.0681 10.0496ZM43.5348 12.6417L41.9919 13.012L40.8193 13.444L39.6467 14.0611L38.9678 14.5549L38.3506 15.0486L37.178 16.2212L36.6226 17.0235L36.1289 17.8258L35.6968 18.7516L35.2648 20.0476L35.018 21.1585L34.9562 22.0226V23.0717L35.0797 24.1826L35.3265 25.2318L35.7586 26.4661L36.3757 27.6388L36.8695 28.3794L37.3632 28.9965L37.7335 29.4285H37.8569V29.552H37.9803V29.6754L38.4741 30.1074L39.2764 30.7246L40.0787 31.2183L41.1279 31.712L42.4239 32.1441L43.8434 32.3909L45.1395 32.4526L46.8058 32.2675L47.9784 31.9589L49.2127 31.4652L50.2002 30.9097L51.0642 30.2926L51.8666 29.6137L52.5454 28.8731L53.2243 27.9473L53.7798 26.9599L54.2118 25.9724L54.5204 24.9849L54.7055 24.1826L54.7672 23.6889V21.5288L54.6438 20.5414L54.2118 19.0602L53.7798 18.0727L53.2243 17.0852L52.4837 16.0978L51.6814 15.2337L50.8174 14.5549L49.8916 13.9377L48.9042 13.444L47.7933 13.012L46.1886 12.6417H43.5348Z" fill="#249EF1" />
                            <path d="M26.3529 42.4507H26.9084L27.7724 42.6358L28.6365 43.0678L29.0068 43.3764L29.2536 43.6233L29.7474 43.253L30.3028 42.8827L30.8582 42.6358L31.784 42.4507H32.2777L33.2035 42.6358L33.8206 42.8827L34.3761 43.3147L34.8081 43.7467L35.3018 44.6108L35.5487 45.3514L35.6104 45.6599L35.6721 46.524V49.5481L35.6104 51.7699L35.5487 51.8316H33.5738L33.5121 51.7699L33.4503 46.2771L33.3269 45.5982L33.0183 45.1045L32.648 44.7959L32.2777 44.6725H31.6606L31.1668 44.8576L30.6731 45.4131L30.5497 45.7217L30.4879 46.2154L30.4262 51.7699L30.3645 51.8316H28.3279L28.2662 51.7699L28.2044 45.9068L28.0193 45.3514L27.649 44.9193L27.2787 44.7342L27.0318 44.6725H26.4764L25.9826 44.8576L25.5506 45.2896L25.3655 45.7217L25.3038 46.2771L25.242 51.7699L25.1803 51.8316H23.082V46.0302L23.2671 44.9811L23.6374 44.117L24.0694 43.5616L24.6866 43.0061L25.4889 42.6358L26.3529 42.4507Z" fill="black" />
                            <path d="M17.6509 42.4507H18.268L19.1321 42.5741L20.0578 42.8827L20.7367 43.253L21.2922 43.685L21.6007 43.9936L20.8601 44.6725L20.3047 45.2279L20.0578 45.1045L19.5024 44.6725L18.9469 44.4256L18.3915 44.3022H17.6509L16.9103 44.4873L16.2314 44.9193L15.8611 45.3514L15.4908 46.0302L15.3057 46.7091V47.7583L15.5525 48.5606L15.9845 49.3012L16.4783 49.7332L16.972 49.9801L17.404 50.1035H18.5766L19.4407 49.7949L19.5024 49.7332V48.3137L19.5641 48.252H21.6007V53.8682L21.539 53.9299H19.5641L19.5024 51.8933L18.6383 52.0167L18.268 52.0785H17.7126L16.7251 51.8933L15.9845 51.6464L15.0588 51.1527L14.3799 50.5973L13.8862 49.9801L13.5159 49.3629L13.1456 48.252L13.0839 47.6966V46.8326L13.2073 45.9685L13.5776 44.9811L14.0096 44.3022L14.6268 43.6233L15.2439 43.1913L15.9845 42.821L16.7869 42.5741L17.6509 42.4507Z" fill="black" />
                            <path d="M3.45612 42.4507H4.62874L5.86307 42.6358L7.15911 43.0678L7.28255 43.253L7.0974 44.4256L7.03568 44.9811L6.78881 44.9193L5.67792 44.549L4.69045 44.3639H3.33269L2.77724 44.549L2.53038 44.7959L2.46866 45.4131L2.59209 45.7217L2.83896 45.8451L3.57956 46.092L5.30762 46.4623L6.29508 46.8326L6.91225 47.2029L7.28255 47.5114L7.65284 48.1286L7.77628 48.4989L7.83799 48.9309V49.4246L7.65284 50.1652L7.28255 50.7824L6.7271 51.2761L5.86307 51.7082L4.93732 51.955L4.135 52.0785H3.45612L2.03664 51.8933L0.987464 51.6464L0.123433 51.3379L0 51.1527L0.185149 49.4246L0.740598 49.6098L2.09836 49.9801L2.90067 50.1035H4.62874L5.18418 49.9184L5.43105 49.6098L5.49277 49.4864V48.9926L5.2459 48.6223L4.62874 48.3137L2.46866 47.82L1.4812 47.4497L0.925747 47.0794L0.493732 46.6474L0.246866 46.1537L0.123433 45.5982L0.185149 44.7959L0.370299 44.1787L0.802314 43.5616L1.29605 43.1296L2.03664 42.7593L3.02411 42.5124L3.45612 42.4507Z" fill="black" />
                            <path d="M57.7667 42.6357L57.9518 42.6975L58.0135 45.3513L58.2604 46.0919L58.7541 46.6473L59.1862 46.8325L59.4947 46.8942H60.2971L60.9142 46.709L61.2845 46.4622L61.5931 45.9684L61.7782 45.2896L61.84 42.6975L63.9383 42.6357L64 42.6975V44.9193L63.8766 45.845L63.6297 46.6473L63.2594 47.3262L62.8274 47.8199L62.0251 48.3754L61.2845 48.684L61.0376 48.8074L60.9759 51.7698L60.9142 51.8315H58.8776L58.8159 51.7698L58.7541 48.7457L57.7667 48.3754L57.0878 47.9434L56.5323 47.3879L56.162 46.7707L55.8535 45.845L55.7917 45.4747V42.6975L57.7667 42.6357Z" fill="black" />
                            <path d="M46.7194 42.6975H54.6808V44.549L52.6441 44.6107H51.8418L51.7801 51.7698L51.7184 51.8315H49.62L49.5583 44.6107H46.7811L46.7194 44.549V42.6975Z" fill="black" />
                            <path d="M9.19574 42.6975H11.4175V49.4863L11.3558 51.7698L11.2941 51.8315H9.19574V42.6975Z" fill="black" />
                            <path fillRule="evenodd" clip-rule="evenodd" d="M41.7204 42.4507H41.0415L40.2392 42.5741L39.4986 42.821L38.6346 43.3147L38.0791 43.8702L37.6471 44.549L37.3385 45.3514L37.2151 46.4623V48.0669L37.2768 51.7699L37.3385 51.8316H39.3134L39.3752 51.7699L39.4369 49.5481L43.3867 49.4864L43.4485 51.8316H45.4234L45.5468 51.4613V45.9068L45.4234 45.2896L45.0531 44.3639L44.4359 43.5616L43.6953 43.0061L42.7696 42.6358L41.7204 42.4507ZM42.1523 44.4256L41.2883 44.3022L40.8563 44.3639L40.3626 44.549L39.8688 44.9811L39.4985 45.5982L39.3751 46.2154V47.6966L39.5602 47.7583L43.3867 47.6966L43.4484 47.6349V46.2771L43.3867 45.7834L43.1398 45.2279L42.7695 44.7959L42.1523 44.4256Z" fill="black" />
                        </g>
                        <defs>
                            <clipPath id="clip0_1137_206">
                                <rect width="64" height="64" fill="white" />
                            </clipPath>
                        </defs>
                    </svg>
                </div>
                {drawerContent}
            </Drawer>
        </Box>
    );
};

export default Sidebar;
